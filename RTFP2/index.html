<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIP Calculator Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-light: #e1c2a8;
      --bg-dark: #03040c;
      --card-light: #ffffff;
      --card-dark: #1e1e1e;
      --text-light: #1e1e2e;
      --text-dark: #fefcbf;
      --primary: #06153e;
      --accent: #FBD15C;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-light);
      color: var(--text-light);
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    .navbar {
      background-color: var(--primary);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      flex-wrap: wrap;
      flex-direction: column;
    }

    .tabs {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 10px;
    }

    .tab-button {
      background-color: var(--accent);
      border: none;
      color: black;
      padding: 10px 16px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }

    .tab-button.active {
      outline: 2px solid var(--primary);
    }

    .tab-content {
      display: none;
      padding: 30px;
    }

    .tab-content.active {
      display: block;
    }

    .card {
      background-color: var(--card-light);
      color: var(--text-light);
      margin: 0 auto;
      width: 90%;
      max-width: 1000px;
      padding: 30px 40px;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      margin-bottom: 30px;
    }

    body.dark .card {
      background-color: var(--card-dark);
      color: var(--text-dark);
    }

    .form-field {
      margin-bottom: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
    }

    .form-field label {
      min-width: 220px;
      text-align: right;
      font-weight: 600;
    }

    .form-field input,
    .form-field select {
      width: 300px;
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 15px;
    }

    body.dark .form-field input,
    body.dark .form-field select {
      background-color: var(--card-dark);
      color: var(--text-dark);
      border: 1px solid #555;
    }

    #darkModeToggle {
      background-color: var(--accent);
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      padding: 8px 14px;
      cursor: pointer;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="navbar">
    <div class="tabs">
      <button class="tab-button active">Calculate SIP</button>
      <button class="tab-button">FAQs</button>
      <button id="darkModeToggle">Toggle Dark Mode</button>
    </div>
  </div>

  <div class="tab-content active">
    <div class="card">
      <h2>Calculate SIP</h2>
      <div class="form-field">
        <label for="sipType">SIP Type:</label>
        <select id="sipType" onchange="handleSIPTypeChange()">
          <option>Regular SIP</option>
          <option>Step-up SIP</option>
          <option>Flexible SIP</option>
        </select>
      </div>

      <div class="form-field" id="categoryGroup">
        <label for="investmentCategory">Investment Category:</label>
        <select id="investmentCategory">
          <option>Small Cap</option>
          <option>Mid Cap</option>
          <option>Large Cap</option>
        </select>
      </div>

      <div class="form-field hidden" id="stepUpGroup">
        <label for="stepUpPercent">Annual Step-up (%):</label>
        <input type="number" id="stepUpPercent" placeholder="10" />
      </div>

      <div class="form-field hidden" id="flexibleGroup">
        <label for="flexibleMonths">Number of Months:</label>
        <input type="number" id="flexibleMonths" placeholder="Enter months" oninput="generateFlexibleInputs()" />
      </div>

      <div id="flexibleInputs" style="margin-bottom: 20px;"></div>

      <div id="monthlyTimeGroup">
        <div class="form-field">
          <label for="monthlyAmount">Monthly Investment Amount (₹):</label>
          <input type="number" id="monthlyAmount" placeholder="10000" />
        </div>
        <div class="form-field">
          <label for="years">Time Period (Years):</label>
          <input type="number" id="years" placeholder="10" />
        </div>
      </div>

      <button onclick="handleFormSubmit()" style="margin-top: 20px; padding: 12px 24px; font-size: 16px; background-color: var(--primary); color: white; border-radius: 8px; border: none; cursor: pointer;">Calculate SIP</button>

      <div class="card hidden" id="results">
        <h3>Results</h3>
        <p><strong>Total Investment:</strong> ₹<span id="totalInvestment"></span></p>
        <p><strong>Expected Returns:</strong> ₹<span id="returns"></span></p>
        <p><strong>Total Value:</strong> ₹<span id="totalValue"></span></p>
      </div>

      <canvas id="sipChart" class="hidden" style="display: block; margin: 20px auto 0; max-width: 320px; height: 260px;"></canvas>
    </div>
  </div>

  <div class="tab-content">
    <div class="card" style="text-align: left;">
      <h2 style="text-align: center;">Frequently Asked Questions</h2>
      <ul style="padding-left: 30px; line-height: 1.8;">
        <li><strong>What is a SIP?</strong><br/>A Systematic Investment Plan is a way to invest a fixed amount regularly in mutual funds.</li>
        <li><strong>What is Step-up SIP?</strong><br/>It allows you to increase your investment every year by a fixed percentage.</li>
        <li><strong>What is Flexible SIP?</strong><br/>You can invest different amounts each month instead of a fixed one.</li>
        <li><strong>What is the expected return rate?</strong><br/>Small Cap (15%), Mid Cap (12%), Large Cap (10%).</li>
        <li><strong>Can I skip a month in Flexible SIP?</strong><br/>Yes! Just enter zero for that month’s input.</li>
        <li><strong>Is the return guaranteed?</strong><br/>No, SIP returns are market-based and not guaranteed.</li>
      </ul>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let sipChart;

    function handleSIPTypeChange() {
      const sipType = document.getElementById("sipType").value;
      const monthlyGroup = document.getElementById("monthlyTimeGroup");
      const stepUpGroup = document.getElementById("stepUpGroup");
      const flexibleGroup = document.getElementById("flexibleGroup");
      const categoryGroup = document.getElementById("categoryGroup");
      const flexibleInputs = document.getElementById("flexibleInputs");

      if (sipType === "Flexible SIP") {
        monthlyGroup.classList.add("hidden");
        stepUpGroup.classList.add("hidden");
        flexibleGroup.classList.remove("hidden");
        categoryGroup.classList.add("hidden");
      } else {
        monthlyGroup.classList.remove("hidden");
        flexibleGroup.classList.add("hidden");
        flexibleInputs.innerHTML = "";
        stepUpGroup.classList.toggle("hidden", sipType !== "Step-up SIP");
        categoryGroup.classList.toggle("hidden", sipType !== "Regular SIP");
      }
    }

    function generateFlexibleInputs() {
      const months = parseInt(document.getElementById("flexibleMonths").value);
      const container = document.getElementById("flexibleInputs");
      container.innerHTML = "";
      for (let i = 0; i < months; i++) {
        container.innerHTML += `<input type="number" placeholder="Month ${i + 1} amount" class="flex-input" style="width: 200px;" />`;
      }
    }

    function handleFormSubmit() {
      const sipType = document.getElementById("sipType").value;
      const monthlyAmount = document.getElementById("monthlyAmount")?.value || "";
      const years = document.getElementById("years")?.value || "";
      const category = document.getElementById("investmentCategory")?.value || "";
      const stepUpPercent = document.getElementById("stepUpPercent")?.value || "";
      const flexibleMonths = document.getElementById("flexibleMonths")?.value || "";
      const flexibleValues = Array.from(document.querySelectorAll(".flex-input")).map(input => input.value);

      localStorage.setItem("sipData", JSON.stringify({
        sipType,
        monthlyAmount,
        years,
        category,
        stepUpPercent,
        flexibleMonths,
        flexibleValues
      }));

      window.location.href = "results.html";
    }

    window.addEventListener("DOMContentLoaded", () => {
      handleSIPTypeChange();
      document.getElementById("darkModeToggle").addEventListener("click", () => {
        document.body.classList.toggle("dark");
      });

      const tabs = document.querySelectorAll(".tab-button");
      const contents = document.querySelectorAll(".tab-content");

      tabs.forEach((tab, index) => {
        tab.addEventListener("click", () => {
          tabs.forEach(t => t.classList.remove("active"));
          contents.forEach(c => c.classList.remove("active"));
          tab.classList.add("active");
          contents[index].classList.add("active");
        });
      });
    });

    
  </script>
</body>
</html>
